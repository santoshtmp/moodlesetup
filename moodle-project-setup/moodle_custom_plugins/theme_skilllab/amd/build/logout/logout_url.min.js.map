{"version":3,"file":"logout_url.min.js","sources":["../../src/logout/logout_url.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module\n * change cour login url to theme logout url\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'],\n    function ($) {\n\n        return {\n            init: function () {\n\n                // all the a tag link which contain core logout url change to theme logout url\n                var core_logout_url = $('a[href*=\"login/logout.php\"]').attr('href');\n                if (core_logout_url) {\n                    let flag = core_logout_url.includes(\"login/logout.php\");\n                    if (flag) {\n                        let new_logout_url = core_logout_url.replace(\"login/logout.php\", \"logout\");\n                        $('a[href*=\"login/logout.php\"]').attr('href', new_logout_url);\n                    }\n                }\n\n                // all the form action which contain core logout url change to theme logout url\n                var core_logout_action_url = $('form[action*=\"login/logout.php\"]').attr('action');\n                if (core_logout_action_url) {\n                    let flag_action = core_logout_action_url.includes(\"login/logout.php\");\n                    if (flag_action) {\n                        let new_logout_url = core_logout_action_url.replace(\"login/logout.php\", \"logout\");\n                        $('form[action*=\"login/logout.php\"]').attr('action', new_logout_url);\n                    }\n                }\n            }\n        };\n\n    }\n);\n"],"names":["define","$","init","core_logout_url","attr","includes","new_logout_url","replace","core_logout_action_url"],"mappings":";;;;;AAqBAA,0CAAO,CAAC,WACJ,SAAUC,SAEC,CACHC,KAAM,eAGEC,gBAAkBF,EAAE,+BAA+BG,KAAK,WACxDD,gBAAiB,IACNA,gBAAgBE,SAAS,oBAC1B,KACFC,eAAiBH,gBAAgBI,QAAQ,mBAAoB,UACjEN,EAAE,+BAA+BG,KAAK,OAAQE,qBAKlDE,uBAAyBP,EAAE,oCAAoCG,KAAK,aACpEI,uBAAwB,IACNA,uBAAuBH,SAAS,oBACjC,KACTC,eAAiBE,uBAAuBD,QAAQ,mBAAoB,UACxEN,EAAE,oCAAoCG,KAAK,SAAUE"}