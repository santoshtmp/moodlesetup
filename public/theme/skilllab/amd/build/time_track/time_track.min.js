define("theme_skilllab/time_track/time_track",["exports","jquery","core/ajax"],(function(_exports,_jquery,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * https://moodledev.io/docs/guides/javascript/jquery
   * https://moodledev.io/docs/guides/javascript
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);var idleTimer=null,idleStatus=!1;function set_duration(page_data){let request={methodname:"skilllab_time_track",args:{user_id:parseInt(page_data.user_id),course_id:parseInt(page_data.course_id),cmod_id:parseInt(page_data.cmod_id)}};_ajax.default.call([request])[0].done((function(response){response.status})),idleStatus=!0}_exports.init=page_data=>{(0,_jquery.default)(window).on("beforeunload",(function(){set_duration(page_data)})),idleTimer=setTimeout((function(){set_duration(page_data)}),15e3),(0,_jquery.default)("*").on("mousemove mouseover click keydown keypress keyup mouseenter scroll resize dblclick",(function(){clearTimeout(idleTimer),idleStatus&&(idleStatus=!1,function(page_data){let request={methodname:"skilllab_time_track_reset_start_time",args:{user_id:parseInt(page_data.user_id),course_id:parseInt(page_data.course_id),cmod_id:parseInt(page_data.cmod_id)}};_ajax.default.call([request])}(page_data)),idleTimer=setTimeout((function(){set_duration(page_data)}),15e3)}))}}));

//# sourceMappingURL=time_track.min.js.map