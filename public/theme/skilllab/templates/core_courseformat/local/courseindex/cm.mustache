{{!
This file is part of Moodle - http://moodle.org/

Moodle is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Moodle is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Moodle. If not, see <http://www.gnu.org/licenses />.
}}
{{!
@template core_courseformat/local/courseindex/cm

Displays a course index course-module entry.

Example context (json):
{
"id": "12",
"name": "Announcements",
"url": "#",
"visible": 1,
"isactive": 1,
"uniqid": "0",
"accessvisible": 1,
"hascmrestrictions": 0,
"indent": 1
}
}}
<li class="courseindex-item
        {{#isactive}}active{{/isactive}}
        {{#hascmrestrictions}}restrictions{{/hascmrestrictions}}
        {{^accessvisible}}dimmed{{/accessvisible}}
        d-flex
        {{#indent}} indented {{/indent}}"
    id="course-index-cm-{{id}}"
    data-for="cm"
    data-id="{{id}}"
    role="treeitem">
    <span class="completioninfo " data-for="cm_completion" data-value="NaN" a-id="{{id}}"></span>
    {{#uservisible}}
    <a
        class="courseindex-link cm-items-csc"
        {{#url}} href="{{{url}}}" {{/url}} 
        id="{{id}}-item-link">
        <div class="truncated-container">
            <div class="truncated-text">
                {{{name}}}
            </div>
            <div class="truncated-tooltip"> {{{name}}} </div>
        </div>
    </a>
    {{/uservisible}}
    {{^uservisible}}
    <a class="courseindex-link  locked-cm" data-id="{{id}}">
        {{{name}}}
    </a>
    <span class="courseindex-locked ml-1 ">
        <svg fill="#6A7B8B" height="16px" width="16px" version="1.1"
            id="Layer_1" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330"
            xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                id="SVGRepo_tracerCarrier" stroke-linecap="round"
                stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g
                    id="XMLID_509_"> <path id="XMLID_510_"
                        d="M65,330h200c8.284,0,15-6.716,15-15V145c0-8.284-6.716-15-15-15h-15V85c0-46.869-38.131-85-85-85 S80,38.131,80,85v45H65c-8.284,0-15,6.716-15,15v170C50,323.284,56.716,330,65,330z M180,234.986V255c0,8.284-6.716,15-15,15 s-15-6.716-15-15v-20.014c-6.068-4.565-10-11.824-10-19.986c0-13.785,11.215-25,25-25s25,11.215,25,25 C190,223.162,186.068,230.421,180,234.986z M110,85c0-30.327,24.673-55,55-55s55,24.673,55,55v45H110V85z"></path>
                </g> </g></svg>
    </span>
    {{/uservisible}}

</li>
{{#js}}
require(['core_courseformat/local/courseindex/cm'], function(component) {
component.init('course-index-cm-{{id}}');
});
{{/js}}
